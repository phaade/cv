"use strict";(()=>{var ft=Object.defineProperty;var s=(k,M)=>ft(k,"name",{value:M,configurable:!0});(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([[1189],{43190:(k,M,l)=>{var S=l(43721),v=l(68499),g=l(64463),m=l(59753),p=l(75343);const L=new WeakMap;function u(t){const e=t.querySelector(".js-blob-filename"),n=e.value;return n==="."||n===".."||n===".git"?!1:/\S/.test(e.value)}s(u,"filenameValid");function y(t){const e=t.querySelector(".js-blob-contents");return e.getAttribute("data-allow-unchanged")==="true"?!0:B(e)}s(y,"blobContentsConsideredSubmittable");function i(t){const e=t.querySelector(".js-new-filename-field");return B(e)}s(i,"newFilenameConsideredChanged");function a(t){return Array.from(t.querySelectorAll(".js-check-for-fork")).some(p.Z)}s(a,"forkIsNotOK");function h(t){return a(t)||!u(t)?!1:y(t)||i(t)}s(h,"canSubmit");function T(t){const e=t.querySelector(".js-blob-contents");return e.getAttribute("data-allow-unchanged")?!0:B(e)}s(T,"trackAsBlobEdit");function b(t){const e=t.querySelector(".js-blob-contents");return B(e)||i(t)}s(b,"hasChanges");let E=null;function C(t){let e=t.getAttribute("data-github-confirm-unload");return(e==="yes"||e==="true")&&(e=""),e==null&&(e="false"),e==="no"||e==="false"?null:function(){return e}}s(C,"extractConfirmUnload");function P(){const t=document.querySelector(".js-blob-form"),e=t.querySelector(".js-blob-submit");e instanceof HTMLButtonElement&&(e.disabled=!h(t)),t.querySelector(".js-blob-contents-changed").value=T(t).toString(),E&&(b(t)?window.onbeforeunload=E:window.onbeforeunload=null)}s(P,"revalidateBlobForm");function O(t){for(const e of t.querySelectorAll("input"))e.getAttribute("type")==="hidden"&&e.getAttribute("class")&&e.getAttribute("data-default-value")==null&&e.setAttribute("data-default-value",e.value)}s(O,"setDefaultValues");function B(t){return t==null?!0:t.type==="hidden"?t.value!==t.getAttribute("data-default-value"):t.value!==t.defaultValue}s(B,"fieldConsideredChanged");function Me(t){const e=t.querySelector(".js-blob-contents"),n=t.querySelector(".js-new-filename-field"),o=t.querySelector(".js-blob-filename"),r=o.hasAttribute("data-new-file");if(o.defaultValue!=null&&o.defaultValue.length&&!r)return L.set(e,n.value)}s(Me,"setOldFilename"),(0,g.N7)(".js-blob-form",{constructor:HTMLFormElement,initialize(t){setTimeout(()=>{O(t),Me(t),P(),E=C(t),t.addEventListener("submit",function(){window.onbeforeunload=null})})}}),(0,m.on)("change",".js-blob-contents",function(){const t=document.querySelector(".js-blob-filename");!t||U(t)}),(0,S.q6)(".js-blob-filename",function(t){const e=t.currentTarget;document.querySelector(".js-blob-contents").setAttribute("data-filename",e.value),X(e.value),U(e)}),(0,S.q6)(".js-breadcrumb-nav",function(t){const e=t.currentTarget;oe(e),U(e)}),(0,g.N7)(".js-breadcrumb-nav",{constructor:HTMLInputElement,initialize(t){oe(t),U(t)}}),(0,S.w4)("keydown",".js-breadcrumb-nav",function(t){const e=t.currentTarget;if(t.key==="Backspace"&&e.selectionStart===0&&e.selectionEnd===0){const n=e.parentElement;n&&n.querySelectorAll(".separator").length!==1&&(se(e,!0),t.preventDefault())}U(e)});function U(t){xe(t),qe(t),P()}s(U,"syncFields");function oe(t){function e(){t.focus(),t.setSelectionRange(0,0)}for(s(e,"setCaret");t.value.split("/").length>1;){const o=t.value.split("/"),r=o[0],c=o.slice(1).join("/");r===""||r==="."||r===".git"?(t.value=c,window.setTimeout(e,1)):r===".."?se(t):Ae(t,r,c)}}s(oe,"watchforSegmentChanges");function X(t){const e=re();for(const n of document.querySelectorAll(".js-template-suggestion")){const o=n.getAttribute("data-template-suggestion-pattern");if(o){const r=new RegExp(o,"i");n.classList.toggle("d-none",!r.test(e+t))}}}s(X,"checkForTemplateSuggestion");function qe(t){let e=!0,n=t.value?`Create ${t.value}`:"Create new file";const o=t.closest("form"),r=document.querySelector(".js-blob-contents"),c=o.querySelector(".js-new-blob-commit-summary");if(!c)return;const d=document.querySelector(".js-commit-message-fallback"),f=L.get(r),w=document.querySelector(".js-new-filename-field").value;if(f)if(w!==f){const q=B(r)?"Update and rename":"Rename";if(t.value.length&&w.length){const A=f.split("/"),R=w.split("/"),I=A.length-1;for(let D=0;D<A.length;D++){const W=A[D];D!==I&&W!==R[D]&&(e=!1)}A.length===R.length&&e?n=`${q} ${A[I]} to ${R[I]}`:n=`${q} ${f} to ${w}`}else n=`${q} ${f}`}else w===f&&(n=`Update ${t.value}`);c.setAttribute("placeholder",n),d.value=n}s(qe,"updateCommitPlaceholder");function xe(t){const e=re()+t.value;document.querySelector(".js-new-filename-field").value=e}s(xe,"updateNewFilenameField");function re(){let t="";for(const e of document.querySelectorAll(".js-breadcrumb-container > .js-path-segment"))t=`${t}${e.textContent}/`;return t}s(re,"extractFilePath");function se(t,e=!1){e||(t.value=t.value.replace("../",""));let n;const o=document.querySelector(".js-breadcrumb-container");function r(c,d=0){(d===0||c)&&(t.focus(),t.setSelectionRange(d,d))}if(s(r,"setCaret"),o.querySelectorAll(".separator").length!==1){t.previousElementSibling&&t.previousElementSibling.remove();const c=t.previousElementSibling;n=c.textContent.length,c.remove(),e&&(t.value=`${c.textContent}${t.value}`)}X(t.value),window.setTimeout(r,1,e,n)}s(se,"filenameNavUp");function Ae(t,e,n){const o=e.trim(),r=document.querySelector(".js-breadcrumb-container");if(o.length>0){const d=r.querySelectorAll(".js-path-segment a");let f;d.length>1?f=d[d.length-1].pathname:f=r.querySelector(".js-repo-root a").pathname;const w=document.querySelector(".js-crumb-template").cloneNode(!0);w.classList.remove("js-crumb-template"),w.querySelector("a").href=f,w.querySelector("span").textContent=o;const j=document.querySelector(".js-crumb-separator").cloneNode(!0);j.classList.remove("js-crumb-separator"),t.before(w),t.before(j)}t.value=n,X(t.value);function c(){t.focus(),t.setSelectionRange(0,0)}s(c,"setCaret"),window.setTimeout(c,1)}s(Ae,"filenameNavDown"),(0,S.q6)(".js-new-blob-commit-summary",function(t){const e=t.currentTarget;e.closest(".js-file-commit-form").querySelector(".js-too-long-error").classList.toggle("d-none",e.value.length<=50)}),(0,g.N7)(".js-check-for-fork",function(t){const e=t.closest("form"),n=e.querySelector(".js-blob-submit");t.addEventListener("load",function(){a(e)===!0&&(n.disabled=!0)})}),(0,m.on)("click",".js-citation-template",async function(t){await ie(t)}),(0,m.on)("change",".js-gitignore-template input[type=radio]",async function(t){await ie(t)});async function ie(t){const e=t.currentTarget.closest(".js-blob-form"),n=(0,v.P)(e.querySelector(".js-code-editor"));if(n==null)return;const o=t.currentTarget.getAttribute("data-template-url"),r=await fetch(o,{headers:{"X-Requested-With":"XMLHttpRequest"}});if(!r.ok)return;const c=await r.text();n.setCode(c)}s(ie,"fetchAndInsertIntoEditor"),(0,g.N7)(".js-file-commit-form",function(t){if(new URLSearchParams(window.location.search.slice(1)).get("start_commit")==="true"){const n=t.querySelector(".js-details-target");n&&n.click()}});var ke=l(46263),G=l(57654),Pe=l(5638),V=l(90420),De=Object.defineProperty,Oe=Object.getOwnPropertyDescriptor,ae=s((t,e,n,o)=>{for(var r=o>1?void 0:o?Oe(e,n):e,c=t.length-1,d;c>=0;c--)(d=t[c])&&(r=(o?d(e,n,r):d(r))||r);return o&&r&&De(e,n,r),r},"__decorateClass");let Z=s(class extends HTMLElement{reasonSelected(){this.submitBtn.disabled=!1}copyBlobFields(){const t=document.querySelector(".js-blob-form"),e=document.querySelector(".js-bypass-form");if(!(!(t instanceof HTMLFormElement)||!(e instanceof HTMLFormElement))){this.createHiddenInputField(e,"value",document.querySelector(".js-blob-contents").value),this.createHiddenInputField(e,"description",document.querySelector("#commit-description-textarea").value);for(const n of t.elements)n instanceof HTMLInputElement&&n.name&&!n.name.includes("gitignore")&&n.name!=="authenticity_token"&&this.createHiddenInputField(e,n.name,n.value)}}createHiddenInputField(t,e,n){const o=document.createElement("input");o.type="hidden",o.name=e,o.id=`${e}_hidden`,o.value=n,t.appendChild(o),o.required=!0}},"BypassReasonSelectorElement");ae([V.fA],Z.prototype,"submitBtn",2),Z=ae([V.Ih],Z);var ce=l(50320);class le{static annotateDiscoveredSecrets(e,n){var o;if(!e)return;const r=JSON.parse(n);if(r.length===0||((o=r[0].locations)==null?void 0:o.length)===0)return;const c=r[0].locations[0],d=e.code().split(/\r?\n/),f=c.start_line-1,w=c.end_line-1;f>w||f<0||w>d.length||e.markText({line:f,ch:(0,ce.yb)(d[f],c.start_line_byte_position)},{line:w,ch:(0,ce.yb)(d[w],c.end_line_byte_position)},"CodeMirror-lint-mark-error")}}s(le,"CodeEditorExtensions");var Ie=Object.defineProperty,Re=Object.getOwnPropertyDescriptor,ue=s((t,e,n,o)=>{for(var r=o>1?void 0:o?Re(e,n):e,c=t.length-1,d;c>=0;c--)(d=t[c])&&(r=(o?d(e,n,r):d(r))||r);return o&&r&&Ie(e,n,r),r},"blob_editor_decorateClass");const de=["loading-preview","show-preview","no-changes-preview","error-preview"],He=["show-code"].concat(de);let z=s(class extends HTMLElement{async connectedCallback(){if(this.discoveredSecrets){const t=await(0,v.g)(this);le.annotateDiscoveredSecrets(t,this.discoveredSecrets)}}},"BlobEditorElement");ue([V.Lj],z.prototype,"discoveredSecrets",2),z=ue([V.Ih],z);function Be(t){return t.classList.contains("show-code")?"show-code":t.classList.contains("template-editor")?"template-editor":"preview"}s(Be,"currentTab");function fe(t){const e=Be(t);for(const o of t.querySelectorAll(".js-blob-edit-tab")){const r=o.getAttribute("data-tab")===e;o.classList.toggle("selected",r),r?o.setAttribute("aria-current","true"):o.removeAttribute("aria-current")}const n={name:e};(0,m.f)(document.querySelector(".js-file-editor-nav"),"tab:change",n)}s(fe,"selectCurrentTab");function Fe(t){const e=[".md",".mkdn",".mkd",".mdown",".markdown"];for(const n of e)if(t.endsWith(n))return!0;return!1}s(Fe,"isMarkdown");function F(t){return t.getAttribute("data-is-gist")==="true"}s(F,"isGist");function Ne(t,e){return(F(t)?t:e).querySelector(".js-blob-filename")}s(Ne,"getFilenameInput");function me(t,e,n){const o=Ne(t,e);F(t)?o.readOnly=!n:o.disabled=!n,o.style.cursor=n?"auto":"not-allowed"}s(me,"setFilenameEditable"),(0,S.w4)("keypress","input.js-blob-filename",function(t){if(t.key==="Enter"){const n=t.target.form.querySelector("select.js-code-indent-mode");n&&n.focus(),t.preventDefault()}});function he(t){const n=t.closest(".file-header").querySelector(".js-file-editor-nav");n.hidden=!Fe(t.value)}s(he,"setPreviewTabVisibility"),(0,S.w4)("keyup",".js-code-editor[data-is-gist] input.js-blob-filename",function(t){const e=t.target;he(e)}),(0,g.N7)(".js-branch-name-label-container",ge),(0,g.N7)(".js-gist-filename",{add(t){he(t)}});function Ue(t){const e=t.currentTarget.closest(".js-code-editor");if(e.classList.contains("show-code"))return;e.querySelector(".js-blob-edit-code").removeAttribute("data-hotkey"),$(e,"show-code"),fe(e);const n=(0,v.P)(e);n?(n.refresh(),n.focus()):e.classList.contains("js-mobile-code-editor")&&e.querySelector(".js-code-textarea").focus();const o=e.closest(".js-blob-form");me(e,o,!0)}s(Ue,"activateEditTab");function ge(){const t=document.querySelector(".js-branch-name-label-container"),e=!!document.querySelector(".js-quick-pull-choice-option[value=quick-pull]:checked");t&&(e?t.hidden=!0:t.hidden=!1)}s(ge,"setBranchNameLabel");function $e(t,e){const n=e.querySelector(".js-preview-diff-toggle");return n&&n instanceof HTMLInputElement?!n.checked:_e(e)}s($e,"showSimpleDiff");function _e(t){return t.getAttribute("data-simplediff-enabled")==="true"}s(_e,"isSimpleDiffFeatureEnabled");function pe(t){const e=t.currentTarget.closest(".js-code-editor");if(!e.classList.contains("show-code")&&!e.classList.contains("template-editor"))return;e.querySelector(".js-blob-edit-code").setAttribute("data-hotkey","Control+P,Meta+P");const n=e.closest(".js-blob-form");return be(e,n,!F(e),!F(e)&&$e(t,e))}s(pe,"activatePreviewTab");function We(t){const e=t.currentTarget;if(e instanceof HTMLInputElement){const n=e.checked,o=t.currentTarget.closest(".js-code-editor"),r=o.closest(".js-blob-form");return be(o,r,!0,!n)}}s(We,"toggleDiffPreview"),(0,m.on)("click",".js-blob-edit-code",Ue),(0,m.on)("click",".js-blob-edit-preview",pe),(0,m.on)("click",".js-preview-diff-toggle",We),(0,m.on)("codeEditor:preview",".js-code-textarea",function(t){t.currentTarget.closest(".js-code-editor").classList.contains("show-code")&&pe(t)});function $(t,e){t.classList.remove(...He),t.classList.add(e);const n=t.querySelector(".preview-actions");n instanceof HTMLElement&&(n.hidden=!de.includes(e))}s($,"setState");let Y=null;async function be(t,e,n,o){$(t,"loading-preview"),fe(t),me(t,e,!1);const r=!!document.querySelector(".js-quick-pull-choice-option[value=quick-pull]:checked"),c=document.querySelector(".js-blob-preview-form"),d=(0,v.P)(t);let f=null,w=1;if(d!=null)f=d.code(),w=d.editor.getCursor("from").line+1;else if(t.classList.contains("js-mobile-code-editor")){const q=t.querySelector(".js-code-textarea");f=q.value,w=f.substring(0,q.selectionStart).split(/\r?\n/).length}else return;F(t)?(0,G.DN)(c,{text:f}):(0,G.DN)(c,{code:f,commit:e.querySelector(".js-commit-oid").value,blobname:e.querySelector(".js-blob-filename").value,willcreatebranch:r.toString(),checkConflict:n.toString()}),Y==null||Y.abort();const{signal:j}=Y=new AbortController;try{const q=new URL(c.action,window.location.origin);o&&q.searchParams.append("avoiddiff","true");const A=await fetch(q.toString(),{method:c.method,body:new FormData(c),signal:j});if(!A.ok)throw new Error("network error");const R=await A.text();if(!t.classList.contains("loading-preview"))return;const I=(0,Pe.r)(document,R);let D=F(t)?I:I.querySelector(".data.highlight");if(D||(D=I.querySelector("#readme")),D||(D=I.querySelector(".js-preview-new-file")),D||(D=I.querySelector(".js-preview-msg")),!D&&(D=I.querySelector(".render-container"))&&D.classList.add("is-render-requested"),D){const W=t.querySelector(".js-commit-preview");W.innerHTML="",W.appendChild(D),$(t,"show-preview"),Ve(W,w)}else $(t,"no-changes-preview")}catch{t&&$(t,"error-preview")}}s(be,"showPreview");function Ve(t,e){if(!t.querySelector(".markdown-body")||!t.querySelector("[data-sourcepos]"))return;let n=null;for(let o=e;o>=e-50&&(n=t.querySelector(`[data-sourcepos^="${o}:"]`),!n);o--);n==null||n.scrollIntoView({block:"start"})}s(Ve,"scrollToEditPosition"),(0,m.on)("change",".js-quick-pull-choice-option",function(t){const e=t.currentTarget.value==="quick-pull",n=document.querySelector(".js-quick-pull-target-branch"),o=document.querySelector(".js-quick-pull-choice-value"),r=document.querySelector(".js-blob-submit");if(ge(),e){const c=document.querySelector(".js-quick-pull-new-branch-name"),d=c.getAttribute("data-generated-branch");!c.value.length&&d&&(c.value=d),c.focus(),c.select(),n.value=c.value,o.value=n.getAttribute("data-default-value")||"",r.textContent=r.getAttribute("data-pull-text")||""}else n.value=n.getAttribute("data-default-value")||"",o.value="",r.textContent=r.getAttribute("data-edit-text")||""});let J=null,N=null;async function Ke(){const t=document.querySelector(".js-quick-pull-new-branch-name"),e=t.value,n=t.getAttribute("data-generated-branch"),o=document.querySelector(".js-quick-pull-normalization-info"),r=new FormData;r.append("ref",e);const c=t.getAttribute("data-check-url"),d=t.parentElement.querySelector(".js-data-check-url-csrf");J==null||J.abort();const{signal:f}=J=new AbortController;try{const w=await fetch(c,{mode:"same-origin",method:"POST",body:r,signal:f,headers:{Accept:"application/json","Scoped-CSRF-Token":d.value}});if(!w.ok)throw new Error("network error");const j=await w.json();if(e!==t.value)return;const q=j.normalized_ref;if(o.innerHTML=j.message_html==null?"":j.message_html,!q){const A=o.querySelector("code");A.textContent=n}N&&(N.value=q)}catch{if(e!==t.value)return;N&&(N.value=e)}}s(Ke,"updateTargetBranch");const Xe=(0,ke.D)(Ke,200);(0,S.q6)(".js-quick-pull-new-branch-name",function(t){const e=t.target.value;N=document.querySelector(".js-quick-pull-target-branch"),N.value=e,e.length&&Xe()}),(0,m.on)("click","[data-template-button]",function(){window.onbeforeunload=null});var mt=l(71707),ht=l(14504),gt=l(52539),pt=l(40790),bt=l(14146),vt=l(87093),wt=l(55292),yt=l(81699),Et=l(32095),St=l(14568),Lt=l(23350),jt=l(74102),Ge=l(4631),x=l.n(Ge);const ve=document.querySelector("link[rel=assets]"),Ze=`${ve instanceof HTMLLinkElement&&ve.href||"/"}static/javascripts/codemirror%CONTRIB/mode/%N/%N.js?v=1`,Q={};function ze(t,e){let n=e;return()=>{--n===0&&t()}}s(ze,"splitCallback");function we(t,e){const n=x().modes[t].dependencies;if(!n)return e();const o=[];for(let c=0;c<n.length;++c)x().modes.hasOwnProperty(n[c])||o.push(n[c]);if(!o.length)return e();const r=ze(e,o.length);for(let c=0;c<o.length;++c)x().requireMode(o[c],r)}s(we,"ensureDeps");function Ye(t,e){if(x().modes.hasOwnProperty(t))return we(t,e);if(Q.hasOwnProperty(t))return Q[t].push(e);const n=x().findModeByName(t),o=n&&n.contrib?"/contrib":"",r=Ze.replace(/%CONTRIB/,o).replace(/%N/g,t);window.CodeMirror=x();const c=document.createElement("script");c.src=r,c.crossOrigin="anonymous",document.querySelector("meta[name=codemirror-crossorigin-credentials]")&&(c.crossOrigin="use-credentials");const f=document.getElementsByTagName("script")[0],w=Q[t]=[e];if(x().on(c,"load",()=>{we(t,()=>{for(let j=0;j<w.length;++j)w[j]()})}),f.parentNode==null)throw new Error("first script node must be in the document.");f.parentNode.insertBefore(c,f)}s(Ye,"requireMode");function Je(t,e){x().modes.hasOwnProperty(e)||x().requireMode(e,()=>{t.setOption("mode",t.getOption("mode"))})}s(Je,"autoLoadMode"),x().autoLoadMode=Je,x().requireMode=Ye,x().defineMode("conflict",(t,e)=>{const n={startState:()=>({insideConflict:!1}),token:(o,r)=>{if(o.sol()){if(o.match(/^<<<<<<</))return r.insideConflict=!0,o.skipToEnd(),"conflict-marker line-background-conflict-background";if(r.insideConflict&&o.match(/^=======/))return o.skipToEnd(),"conflict-marker line-background-conflict-background";if(r.insideConflict&&o.match(/^>>>>>>>/))return r.insideConflict=!1,o.skipToEnd(),"conflict-marker line-background-conflict-background"}return r.insideConflict?(o.next(),"line-background-conflict-background"):(o.next(),null)},blankLine:o=>o.insideConflict?"line-background-conflict-background":null};if(e.baseMode){const o=x().getMode(t,e.baseMode);if(o.name!=="null")return x().overlayMode(o,n,!0);const r=x().findModeByMIME(e.baseMode);x().autoLoadMode(e.editor,r.mode)}return n}),x().defineMIME("application/x-conflict","conflict");const ee=x();var ye=l(10174);async function Ee(t){const e=t.getAttribute("data-language-detection-url");if(!e)return;const n=document.querySelector(".js-code-editor");if(!n)return;const o=btoa(encodeURIComponent(t.value)),r=new URL(e,window.location.origin),c=new URLSearchParams(r.search.slice(1));c.append("filename",o),r.search=c.toString();const d=await fetch(r.toString(),{headers:{"X-Requested-With":"XMLHttpRequest",Accept:"application/json"}});if(!d.ok){const j=new Error,q=d.statusText?` ${d.statusText}`:"";throw j.message=`HTTP ${d.status}${q}`,j}const f=await d.json();(await(0,v.g)(n)).setMode(f.language)}s(Ee,"onFilenameChange"),(0,S.ZG)(".js-detect-filename-language",t=>{const e=t;(0,ye.oq)(e,Ee),t.addEventListener("blur",()=>(0,ye.iU)(e,Ee),{once:!0})});var Se=l(36162),Qe=l(46073),et=l(47458),tt=l(15205);const H=/Macintosh/.test(navigator.userAgent)?"Cmd":"Ctrl",nt="_",ot="**",rt="`",K=new WeakMap,st=(0,tt.Z)(s(async function(){const e=new Request("/autocomplete/emojis_for_editor",{method:"GET",credentials:"same-origin",headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}}),n=await fetch(e);if(n.status!==200)throw new Error(`emoji request failed with a ${n.status}`);const o=[],r=await n.json();for(const c of Object.keys(r)){const d={text:`${c}:`,render:f=>(0,Se.sY)(Se.dy`<img class="emoji emoji-result" height="20" width="20" align="absmiddle" src="${r[c][0]}" alt=":${c}:" async></img> ${c}`,f),hint:(f,w,j)=>{if(r[c].length===2){const q=j.from||w.from,A={ch:q.ch-1,line:q.line};f.replaceRange(r[c][1],A,j.to||w.to,"complete")}else f.replaceRange(j.text,j.from||w.from,j.to||w.to,"complete")}};o.push(d)}return o},"getEmojis"));class Le{constructor(e){if(this.hintIsOpen=!1,this.container=e,!this.container)return;this.container.setAttribute("data-editor-loaded",""),this.textarea=this.container.querySelector(".js-code-textarea"),this.filename=this.textarea.getAttribute("data-filename")||"";const n=this.textarea.value,o=this.textarea.getAttribute("data-codemirror-mode"),r=this.textarea.getAttribute("data-codemirror-fixed-height")==="true";this.mergeMode=this.textarea.getAttribute("data-merge-mode")==="true";const c=this.textarea.clientHeight;this.textarea.style.display="none";const d={lineNumbers:!0,value:n,inputStyle:"contenteditable",theme:"github-light"};this.mergeMode&&(d.gutters=["CodeMirror-linenumbers","merge-gutter"]);const f=this.textarea.parentElement;this.editor=x()(f,d);const w=this.textarea.getAttribute("data-hotkey-scope-id")||"code-editor";if(this.editor.getInputField().setAttribute("id",w),c!==0&&r){const j=this.container.querySelector(".CodeMirror");j&&(j.style.height=`${c}px`)}this.setMode(o),this.setupKeyBindings(),this.setupFormBindings(),this.setupControlBindings(),this.setupScrollOnHashChange()}code(){return this.editor.getValue()}setCode(e){this.editor.setValue(e)}refresh(){this.editor.refresh()}focus(){this.editor.focus()}blur(){this.editor.getInputField().blur()}getDocument(){return this.editor.getDoc()}on(e,n){this.container.addEventListener(e,n)}off(e,n){this.container.removeEventListener(e,n)}setDocument(e){this.editor.swapDoc(e),!(e.modeOption&&typeof e.modeOption.name!="undefined")&&this.setMode(e.modeOption)}async loading(e){this.editor.setOption("readOnly",!0),await e(),window.onbeforeunload=null,this.editor.setOption("readOnly",!1)}setMode(e){let n=e;this.mergeMode&&(n={name:"conflict",baseMode:n,editor:this.editor}),n==="text/x-gfm"?this.editor.setOption("mode",{name:"gfm",gitHubSpice:!1}):this.editor.setOption("mode",n);const o=this.container.querySelector(".drag-and-drop");if(o){const r=!(n==="text/x-gfm"||n==="text/x-markdown");o.hidden=r,this.editor.setOption("dragDrop",r)}if(n&&!this.mergeMode){const r=x().findModeByMIME(n);x().autoLoadMode(this.editor,r.mode)}}setConfirmUnloadMessage(e){this.confirmUnload=function(){return e}}clearConfirmUnloadMessage(){this.confirmUnload=void 0,window.onbeforeunload=null}setupFormBindings(){const e=s((o,r)=>{this.confirmUnload&&(window.onbeforeunload=this.confirmUnload),(0,G.Se)(this.textarea,this.code()),this.isMarkdown(o)&&this.emojiComplete(o),(0,m.f)(this.container,"change",{editor:o,changes:r})},"changeHandler");this.editor.on("change",e),this.editor.on("swapDoc",e);const n=s((o,r,c)=>{this.isMarkdown(o)&&c.setAttribute("dir","auto")},"renderLineHandler");if(this.editor.on("renderLine",n),this.confirmUnload){const o=this.textarea.closest("form");if(o==null)return;o.addEventListener("submit",()=>{window.onbeforeunload=null})}this.editor.on("paste",(o,r)=>{K.get(o)||this.insertSelectedTextLink(o,r),K.set(o,!1)})}setupControlBindings(){const e=this.container.querySelector(".js-code-indent-width"),n=this.container.querySelector(".js-code-wrap-mode"),o=this.container.querySelector(".js-code-indent-mode");this.editor.setOption("tabSize",parseInt(e.value)),this.editor.setOption("indentUnit",parseInt(e.value)),this.editor.setOption("lineWrapping",n.value==="on"),this.editor.setOption("indentWithTabs",o.value!=="space"),e.addEventListener("change",()=>{this.editor.setOption("tabSize",parseInt(e.value)),this.editor.setOption("indentUnit",parseInt(e.value))}),n.addEventListener("change",()=>{this.editor.setOption("lineWrapping",n!=null&&n.value==="on")}),o.addEventListener("change",()=>{this.editor.setOption("indentWithTabs",o.value!=="space")})}setupKeyBindings(){this.editor.addKeyMap({Enter:e=>{e.execCommand("newlineAndIndentContinueMarkdownList")},Tab:e=>{if(e.somethingSelected()){e.indentSelection("add");return}this.container.querySelector(".js-code-indent-mode").value!=="space"?e.replaceSelection("	","end","+input"):e.execCommand("insertSoftTab")},"Shift-Tab":e=>{e.indentSelection("subtract")},"Cmd-/":"toggleComment","Ctrl-/":"toggleComment","Shift-Cmd-P":()=>{this.blur(),(0,m.f)(this.textarea,"codeEditor:preview")},[`${H}-I`]:e=>this.insertMdToken(e,nt),[`${H}-B`]:e=>this.insertMdToken(e,ot),[`${H}-E`]:e=>this.insertMdToken(e,rt),[`${H}-K`]:e=>this.insertMdLink(e),[`Shift-${H}-.`]:e=>this.toggleMdList(e,">"),[`Shift-${H}-7`]:e=>this.toggleMdList(e,"ol"),[`Shift-${H}-8`]:e=>this.toggleMdList(e,"-"),[`Shift-${H}-Alt-V`]:e=>(K.set(e,!0),x().Pass),[`Shift-${H}-V`]:e=>(K.set(e,!0),x().Pass)}),(0,Qe.Ty)()||delete x().keyMap.default["Alt-G"]}setupScrollOnHashChange(){(0,et.Z)(()=>{const e=at(window.location.hash);e.length>0&&(this.focus(),this.editor.setCursor({line:e[0]-1,ch:0},{scroll:!0}))})}isMarkdown(e){const n=e.getMode().name;return n==="gfm"||n==="markdown"}insertMdToken(e,n){if(!this.isMarkdown(e))return;const o=e.getSelection();if(o)e.replaceSelection(n+o+n);else{const r=e.getCursor();e.replaceRange(n.repeat(2),r),e.setCursor({line:r.line,ch:r.ch+n.length})}}toggleMdList(e,n){if(!this.isMarkdown(e))return;const o=e.getCursor("from"),r=e.getCursor("to"),c=e.getRange({line:o.line,ch:0},r),d=new RegExp(`^${n==="ol"?"\\d+\\.":n}\\s`);if(c){const f=c.split(`
`),w=f.every(j=>d.test(j));for(let j=0;j<f.length;j++){const q=o.line+j;if(w){const A=f[j].match(d);A&&e.replaceRange("",{line:q,ch:0},{line:q,ch:A[0].length})}else{const A=`${n==="ol"?`${j+1}.`:n} `;e.replaceRange(A,{line:q,ch:0})}}}else{const f=e.getLine(o.line).match(d);if(f)e.replaceRange("",{line:o.line,ch:0},{line:o.line,ch:f[0].length});else{const w=`${n==="ol"?"1.":n} `;e.replaceRange(w,{line:o.line,ch:0})}}}insertMdLink(e){if(!this.isMarkdown(e))return;const n=e.getSelection();if(n){const o=e.listSelections();if(e.replaceSelection(`[${n}](url)`),o.length===1&&o[0].from().line===o[0].to().line){const r=o[0],c={line:r.from().line,ch:Math.max(r.from().ch,r.to().ch)};e.setSelection({ch:c.ch+3,line:c.line},{ch:c.ch+6,line:c.line})}}else{const o=e.getCursor();e.replaceRange("[](url)",o),e.setCursor({line:o.line,ch:o.ch+1})}}insertSelectedTextLink(e,n){if(!this.isMarkdown(e))return;const o=e.getSelection(),r=n.clipboardData,c=4;if(o&&r){const d=r.getData("text/plain");if(!this.isURL(d))return;if(d){const f=e.getCursor();e.replaceSelection(`[${o}](${d})`),e.setCursor({line:f.line,ch:f.ch+d.length+c}),n.preventDefault()}}}isURL(e){return/^https?:\/\//i.test(e)}async emojiComplete(e){const n=e.getCursor();if(this.hintIsOpen&&this.isTokenColon(e,n)&&!this.colonShowsEmojiPicker(e,n)&&(this.hintIsOpen=!1),!(!this.colonShowsEmojiPicker(e,n)&&!this.hintIsOpen))try{const o=await st();x().showHint(e,()=>{this.hintIsOpen=!0;const r=e.getCursor(),c=e.getTokenAt(r),d=r.ch;let f=r.ch;const w=r.line;let j=c.string;for(;f-- >-1;){const q=e.getTokenAt({ch:f,line:w}).string;if(q===":")return{list:o.filter(R=>R.text.indexOf(j)!==-1),from:x().Pos(w,f),to:x().Pos(w,d)};j=q+j}return{list:[],from:x().Pos(w,0),to:x().Pos(w,d)}},{completeSingle:!1})}catch{}}isFirstCharacterOnLine(e){return e.ch===1}isPreviousCharacterSpace(e,n){const o=this.previousCharacter(e,n);return/\s/.test(o)}isTokenColon(e,n){return e.getTokenAt(n).string===":"}previousCharacter(e,n){return e.getRange({line:n.line,ch:n.ch-2},{line:n.line,ch:n.ch-1})}colonShowsEmojiPicker(e,n){return this.isFirstCharacterOnLine(n)||this.isPreviousCharacterSpace(e,n)}markText(e,n,o){return this.editor.markText(e,n,{className:o})}}s(Le,"CodeEditor");function it(t){if((0,v.P)(t)||t.hasAttribute("data-editor-loaded")||t.classList.contains("js-mobile-code-editor"))return;const e=new Le(t);let n=t.getAttribute("data-github-confirm-unload")||"";(n==="yes"||n==="true")&&(n=""),n==="no"||n==="false"||e.setConfirmUnloadMessage(n),(0,m.f)(t,"codeEditor:ready",{editor:e})}s(it,"loadEditor"),(0,g.N7)(".js-code-editor",{constructor:HTMLElement,add:it});function at(t){let e,n;const o=t.match(/#?(?:L|-)(\d+)/gi);if(o){const r=[];for(e=0,n=o.length;e<n;e++){const c=o[e];r.push(parseInt(c.replace(/\D/g,"")))}return r}else return[]}s(at,"parseLineRange");var ct=l(66963),lt=l(40669),ut=l(96867);function je(t){return document.querySelector(".js-resolve-conflicts-form").elements.namedItem(t)}s(je,"persistenceKeyFor");const Te=new WeakMap;function _(t){const e=je(t);return Te.get(e)}s(_,"getFileData");function dt(t,e){Te.set(je(t),e)}s(dt,"setFileData");async function te(t){const e=document.querySelector(".js-code-editor");if(!(e instanceof HTMLElement))return;const n=await(0,v.g)(e);function o(){const d=`files[${t.getAttribute("data-filename")||""}]`,f=_(d);if(f==null)throw new Error("Expected file data to be loaded and was not");Ce(f)}s(o,"onChange"),n.off("change",o),n.on("change",o);const r=e.closest(".js-conflict-resolver");r!=null&&(r.classList.add("loading"),n.loading(async()=>{const c=t.getAttribute("data-filename");if(!c)return;const d=`files[${c}]`,f=document.querySelector(".js-resolve-file-form");f.elements.namedItem("filename").value=d,f.querySelector(".js-filename").textContent=decodeURIComponent(c),f.classList.toggle("is-resolved",t.classList.contains("resolved"));for(const q of t.parentNode.children)q.classList.toggle("selected",q===t);let w=_(d);if(!w){const q=await fetch(t.href,{headers:{"X-Requested-With":"XMLHttpRequest",Accept:"application/json"}});if(!q.ok){const R=new Error,I=q.statusText?` ${q.statusText}`:"";throw R.message=`HTTP ${q.status}${I}`,R}const A=await q.json();w={document:ee.Doc(A.conflicted_file.data,A.conflicted_file.codemirror_mime_type),headDocument:ee.Doc(A.head.data,A.head.codemirror_mime_type),baseDocument:ee.Doc(A.base.data,A.base.codemirror_mime_type),conflicts:[]},Ce(w),dt(d,w)}r.classList.remove("loading"),n.setDocument(w.document),document.querySelector(".js-code-editor .js-conflict-count").textContent=new Intl.NumberFormat("en-US").format(w.conflicts.length);const j=document.querySelector(".js-code-editor .js-conflict-label");j.textContent=j.getAttribute(w.conflicts.length===1?"data-singular-string":"data-plural-string"),ne(!0)}))}s(te,"setupResolverFor");function Ce(t){let e={};t.conflicts=[],t.document.eachLine(n=>{if(!n)return;const o=t.document;if(o.setGutterMarker(n,"merge-gutter",null),!e.start&&/^<<<<<<</.test(n.text)?e.start=n:e.start&&/^=======/.test(n.text)?e.middle=n:e.start&&/^>>>>>>>/.test(n.text)&&(e.end=n),e.start){let r=".js-line";e.start===n?r=".js-start":e.middle===n?r=".js-middle":e.end===n&&(r=".js-end");const c=document.querySelector(`.js-conflict-gutters ${r}`).cloneNode(!0);o.setGutterMarker(n,"merge-gutter",c)}e.end&&(t.conflicts.push(e),e={})})}s(Ce,"findAndMarkConflicts");function ne(t){const n=document.querySelector(".js-resolve-file-form").elements.namedItem("filename").value,o=_(n);if(o==null)throw new Error("Expected file data to be loaded and was not");const r=o.document.getCursor().line,c=o.conflicts;let d=null;for(let f=t?0:c.length-1;t?f<c.length:f>=0;t?f++:f--){const w=c[f].middle;if(w==null)continue;const j=o.document.getLineNumber(w);if(t&&j>r||!t&&j<r){d=j;break}}d!=null&&o.document.setCursor(d,0),o.document.getEditor().focus()}s(ne,"goToConflict"),(0,m.on)("click","a.js-conflicted-file",function(t){const e=t.currentTarget;t.preventDefault(),te(e)}),(0,m.on)("click",".js-prev-conflict",function(t){ne(!1),t.preventDefault()}),(0,m.on)("click",".js-next-conflict",function(t){ne(!0),t.preventDefault()}),(0,m.on)("submit","form.js-resolve-file-form",function(t){const e=t.currentTarget;if(t.preventDefault(),e.querySelector("button.js-mark-resolved").classList.contains("disabled"))return;const n=document.querySelector(".js-conflicted-file.selected");n&&n.classList.add("resolved");const o=document.querySelectorAll(".js-conflicted-file.resolved").length,r=document.querySelectorAll(".js-conflicted-file").length;if(o===r){const d=document.querySelector(".js-resolve-conflicts-complete");d&&d.classList.remove("d-none");const f=document.querySelector(".js-resolve-file-form");f&&f.classList.add("is-resolved")}let c=n;if(c!=null)do c=c.nextElementSibling;while(c&&!c.classList.contains("js-conflicted-file"));if(c instanceof HTMLAnchorElement)return te(c)}),(0,m.on)("submit","form.js-resolve-conflicts-form",async function(t){const e=t.currentTarget;t.preventDefault(),await(0,ut.Z)();const n=new FormData(e),o=e.querySelectorAll("input.js-file");for(const d of o){const f=_(d.name);if(f==null)throw new Error("Expected file data to be loaded and was not");n.append(d.name,f.document.getValue())}const r=await fetch(e.action,{method:"POST",body:n,headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}});if(!r.ok){const d=new Error,f=r.statusText?` ${r.statusText}`:"";throw d.message=`HTTP ${r.status}${f}`,d}const c=await r.json();try{if(c.error)throw new Error(c.error);await(0,ct.D)(c.job.url);const d=document.querySelector(".js-code-editor");(await(0,v.g)(d)).clearConfirmUnloadMessage(),window.location.pathname+="/.."}catch{const f=document.querySelector(".js-resolve-conflicts-complete");f&&f.classList.toggle("d-none");const w=document.querySelector(".js-resolve-conflicts-failed");w&&w.classList.toggle("d-none")}}),(0,m.on)("change",".js-conflict-resolver .js-code-editor",async function(t){const e=t.currentTarget,n=await(0,v.g)(e),r=document.querySelector(".js-resolve-file-form").elements.namedItem("filename").value,c=_(r);if(c==null)throw new Error("Expected file data to be loaded and was not");const d=c.conflicts.length!==0||/^[<>]{7}/m.test(n.code()),f=e.querySelector("button.js-mark-resolved");f.classList.toggle("disabled",d),f.classList.toggle("tooltipped",d);const w=d?f.getAttribute("data-disabled-label"):"";w&&f.setAttribute("aria-label",w)}),(0,g.N7)(".js-conflict-list",function(t){const e=t.querySelector(".js-conflicted-file");e instanceof HTMLAnchorElement&&te(e);const n=document.querySelector(".new-discussion-timeline");n&&(n.classList.remove("px-3"),n.classList.add("p-0"))}),(0,m.on)("change",".js-conflict-resolution-choice-option",function(t){const e=t.target,n=e.closest(".js-resolve-conflicts-form"),o=n.querySelector(".js-resolve-conflicts-button"),r=n.querySelector(".js-quick-pull-new-branch-name");e.value==="direct"?(o.textContent=o.getAttribute("data-update-text"),o.removeAttribute("data-disable-invalid"),o.removeAttribute("disabled"),r.setAttribute("disabled","true")):(o.textContent=o.getAttribute("data-new-branch-text"),o.setAttribute("data-disable-invalid","true"),r.removeAttribute("disabled"),(0,lt.G)(n))})},63621:(k,M,l)=>{l.d(M,{H:()=>g,v:()=>v});var S=l(59753);function v(){const m=document.getElementById("ajax-error-message");m&&(m.hidden=!1)}s(v,"showGlobalError");function g(){const m=document.getElementById("ajax-error-message");m&&(m.hidden=!0)}s(g,"hideGlobalError"),(0,S.on)("deprecatedAjaxError","[data-remote]",function(m){const p=m.detail,{error:L,text:u}=p;m.currentTarget===m.target&&(L==="abort"||L==="canceled"||(/<html/.test(u)?(v(),m.stopImmediatePropagation()):setTimeout(function(){m.defaultPrevented||v()},0)))}),(0,S.on)("deprecatedAjaxSend","[data-remote]",function(){g()}),(0,S.on)("click",".js-ajax-error-dismiss",function(){g()})},47458:(k,M,l)=>{l.d(M,{Z:()=>m});var S=l(75488);const v=[];let g=0;function m(i){(async function(){v.push(i),await S.x,p()})()}s(m,"hashChange"),m.clear=()=>{v.length=g=0};function p(){const i=g;g=v.length,L(v.slice(i),null,window.location.href)}s(p,"runRemainingHandlers");function L(i,a,h){const T=window.location.hash.slice(1),b=T?document.getElementById(T):null,E={oldURL:a,newURL:h,target:b};for(const C of i)C.call(null,E)}s(L,"runHandlers");let u=window.location.href;window.addEventListener("popstate",function(){u=window.location.href}),window.addEventListener("hashchange",function(i){const a=window.location.href;try{L(v,i.oldURL||u,a)}finally{u=a}});let y=null;document.addEventListener("pjax:start",function(){y=window.location.href}),document.addEventListener("pjax:end",function(){L(v,y,window.location.href)})},40669:(k,M,l)=>{l.d(M,{G:()=>y});var S=l(43721),v=l(64463),g=l(59753);const m=["input[pattern]","input[required]","textarea[required]","input[data-required-change]","textarea[data-required-change]","input[data-required-value]","textarea[data-required-value]"].join(",");function p(i){const a=i.getAttribute("data-required-value"),h=i.getAttribute("data-required-value-prefix");if(i.value===a)i.setCustomValidity("");else{let T=a;h&&(T=h+T),i.setCustomValidity(T)}}s(p,"checkValidityForRequiredValueField"),(0,S.q6)("[data-required-value]",function(i){const a=i.currentTarget;p(a)}),(0,g.on)("change","[data-required-value]",function(i){const a=i.currentTarget;p(a),y(a.form)}),(0,S.q6)("[data-required-trimmed]",function(i){const a=i.currentTarget;a.value.trim()===""?a.setCustomValidity(a.getAttribute("data-required-trimmed")):a.setCustomValidity("")}),(0,g.on)("change","[data-required-trimmed]",function(i){const a=i.currentTarget;a.value.trim()===""?a.setCustomValidity(a.getAttribute("data-required-trimmed")):a.setCustomValidity(""),y(a.form)}),(0,S.ZG)(m,i=>{let a=i.checkValidity();function h(){const T=i.checkValidity();T!==a&&i.form&&y(i.form),a=T}s(h,"inputHandler"),i.addEventListener("input",h),i.addEventListener("blur",s(function T(){i.removeEventListener("input",h),i.removeEventListener("blur",T)},"blurHandler"))});const L=new WeakMap;function u(i){L.get(i)||(i.addEventListener("change",()=>y(i)),L.set(i,!0))}s(u,"installHandlers");function y(i){const a=i.checkValidity();for(const h of i.querySelectorAll("button[data-disable-invalid]"))h.disabled=!a}s(y,"validate"),(0,v.N7)("button[data-disable-invalid]",{constructor:HTMLButtonElement,initialize(i){const a=i.form;a&&(u(a),i.disabled=!a.checkValidity())}}),(0,v.N7)("input[data-required-change], textarea[data-required-change]",function(i){const a=i,h=a.type==="radio"&&a.form?a.form.elements.namedItem(a.name).value:null;function T(b){const E=a.form;if(b&&a.type==="radio"&&E&&h)for(const C of E.elements.namedItem(a.name))C instanceof HTMLInputElement&&C.setCustomValidity(a.value===h?"unchanged":"");else a.setCustomValidity(a.value===(h||a.defaultValue)?"unchanged":"")}s(T,"customValidity"),a.addEventListener("input",T),a.addEventListener("change",T),T(),a.form&&y(a.form)}),document.addEventListener("reset",function(i){if(i.target instanceof HTMLFormElement){const a=i.target;setTimeout(()=>y(a))}})},46073:(k,M,l)=>{l.d(M,{Ty:()=>v,YE:()=>g,Zf:()=>m});var S=l(11793);const v=s(()=>{const p=document.querySelector("meta[name=keyboard-shortcuts-preference]");return p?p.content==="all":!0},"areCharacterKeyShortcutsEnabled"),g=s(p=>/Enter|Arrow|Escape|Meta|Control|Esc/.test(p)||p.includes("Alt")&&p.includes("Shift"),"isNonCharacterKeyShortcut"),m=s(p=>{const L=(0,S.EL)(p);return v()?!0:g(L)},"isShortcutAllowed")},68499:(k,M,l)=>{l.d(M,{P:()=>g,g:()=>m});var S=l(59753);const v=new WeakMap;function g(u){return v.get(u)}s(g,"getCodeEditor");async function m(u){return v.get(u)||p(await L(u,"codeEditor:ready"))}s(m,"getAsyncCodeEditor");function p(u){if(!(u instanceof CustomEvent))throw new Error("assert: event is not a CustomEvent");const y=u.detail.editor;if(!u.target)throw new Error("assert: event.target is null");return v.set(u.target,y),y}s(p,"onEditorFromEvent"),(0,S.on)("codeEditor:ready",".js-code-editor",p);function L(u,y){return new Promise(i=>{u.addEventListener(y,i,{once:!0})})}s(L,"nextEvent")},7732:(k,M,l)=>{l.d(M,{W:()=>v});var S=l(59753);async function v(g){const p=document.querySelector("#site-details-dialog").content.cloneNode(!0),L=p.querySelector("details"),u=L.querySelector("details-dialog"),y=L.querySelector(".js-details-dialog-spinner");g.detailsClass&&L.classList.add(...g.detailsClass.split(" ")),g.dialogClass&&u.classList.add(...g.dialogClass.split(" ")),g.label?u.setAttribute("aria-label",g.label):g.labelledBy&&u.setAttribute("aria-labelledby",g.labelledBy),document.body.append(p);const i=await g.content;return y.remove(),u.prepend(i),L.addEventListener("toggle",()=>{L.hasAttribute("open")||((0,S.f)(u,"dialog:remove"),L.remove())}),u}s(v,"dialog")},75488:(k,M,l)=>{l.d(M,{C:()=>v,x:()=>S});const S=function(){return document.readyState==="interactive"||document.readyState==="complete"?Promise.resolve():new Promise(g=>{document.addEventListener("DOMContentLoaded",()=>{g()})})}(),v=function(){return document.readyState==="complete"?Promise.resolve():new Promise(g=>{window.addEventListener("load",g)})}()},66963:(k,M,l)=>{l.d(M,{D:()=>m,a:()=>g});var S=l(99997),v=l(5638);async function g(p,L,u){const y=new Request(L,u);y.headers.append("X-Requested-With","XMLHttpRequest");const i=await self.fetch(y);if(i.status<200||i.status>=300)throw new Error(`HTTP ${i.status}${i.statusText||""}`);return(0,S.t)((0,S.P)(p),i),(0,v.r)(p,await i.text())}s(g,"fetchSafeDocumentFragment");function m(p,L,u=1e3){return s(async function y(i){const a=new Request(p,L);a.headers.append("X-Requested-With","XMLHttpRequest");const h=await self.fetch(a);if(h.status<200||h.status>=300)throw new Error(`HTTP ${h.status}${h.statusText||""}`);if(h.status===200)return h;if(h.status===202)return await new Promise(T=>setTimeout(T,i)),y(i*1.5);throw new Error(`Unexpected ${h.status} response status from poll endpoint`)},"poll")(u)}s(m,"fetchPoll")},57654:(k,M,l)=>{l.d(M,{Bt:()=>p,DN:()=>y,KL:()=>h,Se:()=>u,qC:()=>T,sw:()=>i});var S=l(59753),v=l(2077),g=l(63621);(0,S.on)("click",".js-remote-submit-button",async function(b){const C=b.currentTarget.form;b.preventDefault();let P;try{P=await fetch(C.action,{method:C.method,body:new FormData(C),headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}})}catch{}P&&!P.ok&&(0,g.v)()});function m(b,E,C){return b.dispatchEvent(new CustomEvent(E,{bubbles:!0,cancelable:C}))}s(m,"fire");function p(b,E){E&&(L(b,E),(0,v.j)(E)),m(b,"submit",!0)&&b.submit()}s(p,"requestSubmit");function L(b,E){if(!(b instanceof HTMLFormElement))throw new TypeError("The specified element is not of type HTMLFormElement.");if(!(E instanceof HTMLElement))throw new TypeError("The specified element is not of type HTMLElement.");if(E.type!=="submit")throw new TypeError("The specified element is not a submit button.");if(!b||b!==E.form)throw new Error("The specified element is not owned by the form element.")}s(L,"checkButtonValidity");function u(b,E){if(typeof E=="boolean")if(b instanceof HTMLInputElement)b.checked=E;else throw new TypeError("only checkboxes can be set to boolean value");else{if(b.type==="checkbox")throw new TypeError("checkbox can't be set to string value");b.value=E}m(b,"change",!1)}s(u,"changeValue");function y(b,E){for(const C in E){const P=E[C],O=b.elements.namedItem(C);(O instanceof HTMLInputElement||O instanceof HTMLTextAreaElement)&&(O.value=P)}}s(y,"fillFormValues");function i(b){if(!(b instanceof HTMLElement))return!1;const E=b.nodeName.toLowerCase(),C=(b.getAttribute("type")||"").toLowerCase();return E==="select"||E==="textarea"||E==="input"&&C!=="submit"&&C!=="reset"||b.isContentEditable}s(i,"isFormField");function a(b){return new URLSearchParams(b)}s(a,"searchParamsFromFormData");function h(b,E){const C=new URLSearchParams(b.search),P=a(E);for(const[O,B]of P)C.append(O,B);return C.toString()}s(h,"combineGetFormSearchParams");function T(b){return a(new FormData(b)).toString()}s(T,"serialize")},99997:(k,M,l)=>{l.d(M,{P:()=>S,t:()=>g});function S(m){const p=[...m.querySelectorAll("meta[name=html-safe-nonce]")].map(L=>L.content);if(p.length<1)throw new Error("could not find html-safe-nonce on document");return p}s(S,"getDocumentHtmlSafeNonces");class v extends Error{constructor(p,L){super(`${p} for HTTP ${L.status}`);this.response=L}}s(v,"ResponseError");function g(m,p,L=!1){const u=p.headers.get("content-type")||"";if(!L&&!u.startsWith("text/html"))throw new v(`expected response with text/html, but was ${u}`,p);if(L&&!(u.startsWith("text/html")||u.startsWith("application/json")))throw new v(`expected response with text/html or application/json, but was ${u}`,p);const y=p.headers.get("x-html-safe");if(y){if(!m.includes(y))throw new v("response X-HTML-Safe nonce did not match",p)}else throw new v("missing X-HTML-Safe nonce",p)}s(g,"verifyResponseHtmlSafeNonce")},43721:(k,M,l)=>{l.d(M,{ZG:()=>p,q6:()=>u,w4:()=>L});var S=l(8439);let v=!1;const g=new S.Z;function m(y){const i=y.target;if(i instanceof HTMLElement&&i.nodeType!==Node.DOCUMENT_NODE)for(const a of g.matches(i))a.data.call(null,i)}s(m,"handleFocus");function p(y,i){v||(v=!0,document.addEventListener("focus",m,!0)),g.add(y,i),document.activeElement instanceof HTMLElement&&document.activeElement.matches(y)&&i(document.activeElement)}s(p,"onFocus");function L(y,i,a){function h(T){const b=T.currentTarget;!b||(b.removeEventListener(y,a),b.removeEventListener("blur",h))}s(h,"blurHandler"),p(i,function(T){T.addEventListener(y,a),T.addEventListener("blur",h)})}s(L,"onKey");function u(y,i){function a(h){const{currentTarget:T}=h;!T||(T.removeEventListener("input",i),T.removeEventListener("blur",a))}s(a,"blurHandler"),p(y,function(h){h.addEventListener("input",i),h.addEventListener("blur",a)})}s(u,"onInput")},5638:(k,M,l)=>{l.d(M,{r:()=>S});function S(v,g){const m=v.createElement("template");return m.innerHTML=g,v.importNode(m.content,!0)}s(S,"parseHTML")},2077:(k,M,l)=>{l.d(M,{j:()=>S,u:()=>v});function S(g){const m=g.closest("form");if(!(m instanceof HTMLFormElement))return;let p=v(m);if(g.name){const L=g.matches("input[type=submit]")?"Submit":"",u=g.value||L;p||(p=document.createElement("input"),p.type="hidden",p.classList.add("is-submit-button-value"),m.prepend(p)),p.name=g.name,p.value=u}else p&&p.remove()}s(S,"persistSubmitButtonValue");function v(g){const m=g.querySelector("input.is-submit-button-value");return m instanceof HTMLInputElement?m:null}s(v,"findPersistedSubmitButtonValue")},96867:(k,M,l)=>{l.d(M,{Z:()=>T});var S=l(7732),v=l(66963),g=l(64463);function m(b){return new Promise(E=>{b.addEventListener("dialog:remove",E,{once:!0})})}s(m,"waitForDialogClose");function p(b){const E=document.querySelector(".sso-modal");!E||(E.classList.remove("success","error"),b?E.classList.add("success"):E.classList.add("error"))}s(p,"setModalStatus");function L(b){const E=document.querySelector("meta[name=sso-expires-around]");E&&E.setAttribute("content",b)}s(L,"updateExpiresAroundTag");async function u(){const b=document.querySelector("link[rel=sso-modal]"),E=await(0,S.W)({content:(0,v.a)(document,b.href),dialogClass:"sso-modal"});let C=null;const P=window.external;if(P.ssoComplete=function(O){O.error?(C=!1,p(C)):(C=!0,p(C),L(O.expiresAround),window.focus()),P.ssoComplete=null},await m(E),!C)throw new Error("sso prompt canceled")}s(u,"ssoPrompt"),(0,g.N7)(".js-sso-modal-complete",function(b){if(window.opener&&window.opener.external.ssoComplete){const E=b.getAttribute("data-error"),C=b.getAttribute("data-expires-around");window.opener.external.ssoComplete({error:E,expiresAround:C}),window.close()}else{const E=b.getAttribute("data-fallback-url");E&&(window.location.href=E)}});function y(b){if(!(b instanceof HTMLMetaElement))return!0;const E=parseInt(b.content);return new Date().getTime()/1e3>E}s(y,"expiresSoon");async function i(){const b=document.querySelector("link[rel=sso-session]"),E=document.querySelector("meta[name=sso-expires-around]");if(!(b instanceof HTMLLinkElement)||!y(E))return!0;const C=b.href;return await(await fetch(C,{headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}})).json()}s(i,"fetchSsoStatus");let a=null;function h(){a=null}s(h,"clearActiveSsoPrompt");async function T(){await i()||(a||(a=u().then(h).catch(h)),await a)}s(T,"__WEBPACK_DEFAULT_EXPORT__")},50320:(k,M,l)=>{l.d(M,{Om:()=>m,lp:()=>v,rq:()=>S,t4:()=>g,yb:()=>L});function S(u){const y="\u200D",i=u.split(y);let a=0;for(const h of i)a+=Array.from(h.split(/[\ufe00-\ufe0f]/).join("")).length;return a/i.length}s(S,"getUtf8StringLength");function v(u,y,i){let a=u.value.substring(0,u.selectionEnd||0),h=u.value.substring(u.selectionEnd||0);return a=a.replace(y,i),h=h.replace(y,i),p(u,a+h,a.length),i}s(v,"replaceText");function g(u,y,i){if(u.selectionStart===null||u.selectionEnd===null)return v(u,y,i);const a=u.value.substring(0,u.selectionStart),h=u.value.substring(u.selectionEnd);return p(u,a+i+h,a.length),i}s(g,"replaceSelection");function m(u,y,i={}){const a=u.selectionEnd||0,h=u.value.substring(0,a),T=u.value.substring(a),b=u.value===""||h.match(/\n$/)?"":`
`,E=i.appendNewline?`
`:"",C=b+y+E;u.value=h+C+T;const P=a+C.length;return u.selectionStart=P,u.selectionEnd=P,u.dispatchEvent(new CustomEvent("change",{bubbles:!0,cancelable:!1})),u.focus(),C}s(m,"insertText");function p(u,y,i){u.value=y,u.selectionStart=i,u.selectionEnd=i,u.dispatchEvent(new CustomEvent("change",{bubbles:!0,cancelable:!1}))}s(p,"setTextareaValueAndCursor");function L(u,y){const i=[...u],a=new TextEncoder,h=new Uint8Array(4);for(let T=0;T<i.length;T++){const b=i[T],{written:E,read:C}=a.encodeInto(b,h);if(!E||!C)return-1;const P=E-C;if(P!==0&&(T<y&&(y-=P),T>=y))break}return y}s(L,"GetCharIndexFromBytePosition")},10174:(k,M,l)=>{l.d(M,{dY:()=>y,iU:()=>u,oq:()=>L});const S=new WeakMap;function v(i){const a=S.get(i);!a||(a.timer!=null&&clearTimeout(a.timer),a.timer=window.setTimeout(()=>{a.timer!=null&&(a.timer=null),a.inputed=!1,a.listener.call(null,i)},a.wait))}s(v,"schedule");function g(i){const a=i.currentTarget,h=S.get(a);!h||(h.keypressed=!0,h.timer!=null&&clearTimeout(h.timer))}s(g,"onKeydownInput");function m(i){const a=i.currentTarget,h=S.get(a);!h||(h.keypressed=!1,h.inputed&&v(a))}s(m,"onKeyupInput");function p(i){const a=i.currentTarget,h=S.get(a);!h||(h.inputed=!0,h.keypressed||v(a))}s(p,"onInputInput");function L(i,a,h={wait:null}){S.set(i,{keypressed:!1,inputed:!1,timer:void 0,listener:a,wait:h.wait!=null?h.wait:100}),i.addEventListener("keydown",g),i.addEventListener("keyup",m),i.addEventListener("input",p)}s(L,"addThrottledInputEventListener");function u(i,a){i.removeEventListener("keydown",g),i.removeEventListener("keyup",m),i.removeEventListener("input",p);const h=S.get(i);h&&(h.timer!=null&&h.listener===a&&clearTimeout(h.timer),S.delete(i))}s(u,"removeThrottledInputEventListener");function y(i){const a=S.get(i);a&&a.listener.call(null,i)}s(y,"dispatchThrottledInputEvent")},75343:(k,M,l)=>{l.d(M,{Z:()=>v});function S(g){return g.offsetWidth<=0&&g.offsetHeight<=0}s(S,"hidden");function v(g){return!S(g)}s(v,"visible")}},k=>{var M=s(S=>k(k.s=S),"__webpack_exec__");k.O(0,[5724,6162,4631,1070],()=>M(43190));var l=k.O()}]);})();

//# sourceMappingURL=editor-da8afea1e16c.js.map